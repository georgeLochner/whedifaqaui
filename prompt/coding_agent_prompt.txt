# Coding Agent Protocol

## Task Start
1. Run `bd show <feature-id>` and `bd show <task-id>` for context
2. If other tasks in the feature are already closed: review their descriptions to understand what's built
3. If current task has notes from previous agent: check `git status`, `git log`, review their progress
4. Run `bd update <task-id> --status=in_progress`

## During Work
- Commit incrementally after each logical unit of progress
- Reference task-id in commit messages

## Task Complete
Only close when fully done (code works, tests pass, changes committed):
```
bd close <task-id>
```

## Context Limit Reached
If you cannot finish (read 10+ files, 15+ turns, task larger than expected):

1. Add handoff note to task:
```
bd update <task-id> --description="[original description]

---
Handoff: Completed X. Remaining: Y. Modified: file1, file2."
```

2. Commit with message noting partial progress
3. Leave task open and exit

## Rules
- Only work on your assigned task - do not start additional tasks
- Exit after completing (or handing off) your assigned task
- Never close incomplete tasks
- Never redo work previous agents committed
- Tasks should modify 1-3 files, read 5-8 max
