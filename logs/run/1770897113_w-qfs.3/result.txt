Task w-qfs.3 is complete. Here's what was implemented:

**`backend/app/services/chat.py`** — Chat orchestration service with:
- `prepare_context_file()` — writes search results as JSON to `/data/temp/context_{uuid}.json`
- `cleanup_context_file()` — deletes temp files (with `missing_ok=True`)
- `build_prompt()` — formats QUICK_MODE_PROMPT with context path and query
- `extract_citations()` — parses `[Video Title @ MM:SS]` patterns from Claude's response, resolves video_id from search results
- `deduplicate_citations()` — removes duplicates by (video_id, timestamp) key
- `truncate_context()` — limits segment text to MAX_CONTEXT_CHARS (32k)
- `handle_chat_message()` — full orchestration: search → context → prompt → Claude → citations → cleanup (with try/finally)

**`backend/tests/unit/test_chat_service.py`** — 25 unit tests covering all required test IDs (S7-U08 through S7-U12, S2-U01 through S2-U03, S8-U02), all passing.

---
session_id: 18b9206a-0cbf-42ff-af48-12c46cec574f
free_space: 122.7k (61.3%)
